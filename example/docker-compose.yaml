version: "3.9"

services:
  prometheus:
    image: prom/prometheus
    user: "1000:1000"
    volumes:
      - ./config:/prometheus
    command:
      - '--config.file=/prometheus/prometheus.yaml'
    ports:
      - 9090:9090
    restart: always
    networks:
      - promnet

  example-app:
    image: cbrgm/example-app:latest
    ports:
      - 9997:8080
    restart: always
    networks:
      - promnet


  example-blackhole:
    image: cbrgm/example-blackhole:latest
    ports:
      - 9998:8080
    restart: always
    networks:
      - promnet

networks:
  promnet:
    driver: bridge
